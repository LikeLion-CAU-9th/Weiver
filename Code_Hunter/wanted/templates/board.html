{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block htmlHead %}
<link rel="stylesheet" href="{% static 'css/board.css' %}">
<style>
    .nav-board a{
        color: #92009D;
    }
</style>

{% endblock %}

{% block mainContent %}
<div class="board">
    <div class="quest-area">
        <div class="filter-area">
            <div class="introduction">
                <span>리뷰</span>를 기다리는 질문들 <img src="{% static 'img/review.png' %}" class="reviewimg">
            </div>
            <ul class="filter-box">
                <li class="filter-item">
                    <a href="{% url 'sort-date' %}">최신순</a>
                </li>
                <li class="filter-item">
                    <a href="#">추천순</a>
                </li>
                <li class="filter-item">
                    <a href="#">조회순</a>
                </li>
                <li class="filter-item">
                    <a href="{% url 'sort-bounty' %}">금액순</a>
                </li>
                <li class="filter-item">
                    <a href="#">답변 완료</a>
                </li>
            </ul>
        </div>

        <ul class="quest-list">
            {% for quest in quests %}
            <li class="quest-box">
                <div class="quest-index 
                {% if quest.bounty < 10000 %} low-price {% endif %}
                {% if quest.bounty >= 10000 and quest.bounty < 50000 %} middle-price {% endif %}
                {% if quest.bounty >= 50000 and quest.bounty < 100000 %} high-price {% endif %}
                {% if quest.bounty >= 100000 %} extreme-high-price {% endif %}
                {% if quest.status == 'SOLVED' %} solved-quest {% endif %}
                ">
                </div>
                <div class="quest-left">
                    {% if quest.status == 'SOLVED' %}
                    <div class="quest-status">
                        답변완료!
                    </div>
                    <img src="{% static 'img/thief.png' %}">
                    {% endif %}
                    {% if quest.status == 'UNSOLVED' %}
                    <div class="quest-status">
                        마감<br>
                        <span class="remainingdays-text">D - {{ quest.remainingdays }}</span>
                        <span class="duedate-text">{{ quest.duedate | date:'Y.m.d' }}</span>
                    </div>
                    <img src="{% static 'img/money-bag.png' %}">
                    {% endif %}
                    {% if quest.status == 'SOLVING' %}
                    <div class="quest-status">
                        답변 작성중
                    </div>
                    <img src="{% static 'img/check.png' %}">
                    {% endif %}
                    <div class="quest-bounty">
                        {{ quest.bounty | intcomma }}원
                    </div>
                </div>
                <div class="quest-body">
                    <div class="quest-date">
                        {{ quest.date | date:'Y.m.d H:i' }}
                    </div>
                    <div class="quest-title">
                        <a href="{% url 'questdetail' quest.id %}">
                        {{ quest.title }} [{{ quest.comments.count }}] 
                    </div>
                    <p>
                        {{ quest.body | truncatechars:100 | striptags | cut:"&nbsp;" }}
                    </p>
                        </a>                
                    <div class="quest-tags">
                        {% for tag in quest.taglist.all %}
                        <span class="tag">
                            {{ tag }}
                        </span>
                        {% endfor %}
                    </div>
                </div>
                <div class="quest-right">
                    <div class="quest-author">
                        ID: {{ quest.author }}
                    </div>
                </div>
            </li>
        {% endfor %}
        </ul>

        <div class="explore-area">
            검색창은 나중에..
        </div>
    </div>
    
    <div class="tag-area">
        <a href="{% url 'createquest' %}">
            <div class="create">
                코드리뷰 요청하기
            </div>
        </a>
    </div>
</div>



{% endblock %}

